import{b as f}from"./chunk-KWNSXITZ.js";import{a as u}from"./chunk-7YGWDAWP.js";import{W as d,a as n,b as o,c as p,f as h,j as a,q as c,s as r}from"./chunk-BN6DU3SB.js";var l=(()=>{let t=class t{constructor(e){this.shoppingService=e,this.recipeSelected=new p,this.recipesChanged=new p,this.recipes=[]}getRecipes(){return this.recipes.slice()}addIngredients(e){this.shoppingService.addItems(e)}getRecipeById(e){try{return this.recipes[e]}catch(i){console.log("Error occured: "+i)}}addRecipe(e){this.recipes.push(e),this.recipesChanged.next(this.recipes.slice())}updateRecipe(e,i){this.recipes[e]=i,this.recipesChanged.next(this.recipes.slice())}deleteItem(e){this.recipes.splice(e,1),this.recipesChanged.next(this.recipes.slice())}setRecipes(e){this.recipes=e,this.recipesChanged.next(this.recipes.slice())}};t.\u0275fac=function(i){return new(i||t)(r(f))},t.\u0275prov=c({token:t,factory:t.\u0275fac});let s=t;return s})();var w=(()=>{let t=class t{constructor(e,i,m){this.http=e,this.recipeService=i,this.authService=m}storeRecipes(){let e=this.recipeService.getRecipes();return this.http.put("https://list-c-project-default-rtdb.europe-west1.firebasedatabase.app/recipes.json",e).subscribe(i=>{console.log(i)})}fetchRecipes(){return this.http.get("https://list-c-project-default-rtdb.europe-west1.firebasedatabase.app/recipes.json").pipe(h(e=>e.map(i=>o(n({},i),{ingredients:i.ingredients?i.ingredients:[]}))),a(e=>{this.recipeService.setRecipes(e)}))}};t.\u0275fac=function(i){return new(i||t)(r(d),r(l),r(u))},t.\u0275prov=c({token:t,factory:t.\u0275fac,providedIn:"root"});let s=t;return s})();export{l as a,w as b};
